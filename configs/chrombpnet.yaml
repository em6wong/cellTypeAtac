# ChromBPNet per-cell-type model configuration

model:
  stem_channels: 512
  stem_kernel_size: 21
  num_dilated_layers: 8
  dilated_kernel_size: 3
  input_length: 2114
  output_length: 1000
  profile_kernel_size: 75
  dropout: 0.0

data:
  genome: "data/genome/mm10.fa"
  chrom_sizes: "data/genome/mm10.chrom.sizes"
  peaks_bed: "data/peaks_downsampled/merged_peaks.bed"
  bigwig_dir: "data/bigwig"
  zarr_dir: "data/training"

training:
  batch_size: 64
  learning_rate: 0.001
  max_epochs: 50
  early_stopping_patience: 5
  profile_weight: 1.0
  count_weight: "auto"  # dynamic: median(counts) / 10
  precision: "16-mixed"
  reverse_complement_augment: true
  max_jitter: 500

bias_model:
  checkpoint: "results/bias_model/best.ckpt"
  freeze: true

chromosome_splits:
  test: ["chr8", "chr9"]
  val: ["chr1"]

wandb:
  project: "celltype-atac"
  entity: null
